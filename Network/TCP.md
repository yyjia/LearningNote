### 三次握手
   同步双方的序列号和确认号，并交换tcp的窗口大小
   1. 客户端向服务端发送一个包含 初始序列号x + 窗口大小 的tcp报文
   2. 服务器接到报文后， 回复一个 初始序列号y + 确认客户端序列号x+1 + 窗口大小 tcp报文
   3. 客户端接受到服务端报文后， 发送 确认序列号y+1 + 序列号x+1 报文

   **注意**： 三次握手而不是俩次握手主要为了防止已经过期连接再次传到被连接的主机。
       如果俩次握手可能导致死锁。

### 四次挥手
    1.  A端发起断开连接，A关闭向B发送数据
    2.  B回复A，停止接受A端数据
    3.  B发送A  停止向A发送数据
    4.  A回复B  关闭接受A的数据

### 完整的http请求
但我们在浏览器输入一个地址的时候，发生的事情
域名解析->发起tcp3次握手->建立连接后发起http请求->服务器响应http请求，浏览器得到html代码->浏览器解析html代码,并请求html代码中的资源(js, css, imge)->浏览器对页面进行渲染呈现给用户
- 域名解析
 - 浏览器自身DNS缓存
 - 操作系统自身的DNS缓存
 - hosts文件
 - DNS系统调用(运营商提供的)
- 发起TCP三次握手，建立连接
- 发起http请求
- 响应http请求，返回html代码
- 解析html代码，请求资源
- 页面渲染，呈现

### Nginx

1. nginx 的负载均衡实现方式
 - 轮询
 - 用户ip哈希
 - 指定权重
 - fair url_hash (第三方)
  
