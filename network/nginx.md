## 详解nginx
### 主要功能
#### 基本http服务
- 处理静态文件，处理索引文件及支持自动索引
- 打开管理文件描述符缓存
- 反向代理，使用缓存加速反向代理。完成简单的负载均衡及容错 （类似于squid，对后端源服务器内容进行URL缓存）
- 提供远程FastCGI服务的缓存机制，加速访问，及简单负载均衡及容错 （类似于squid， 对fastCgi动态程序缓存）
- 使用nginx的模块化特性提供过滤器功能。包括：gzip压缩，ranges支持，图像缩放
- 支持http下的安全协议 ssl
#### 高级http服务
#### 邮件代理服务
#### nginx 的主要结构
- 主进程
  - 读取配置文件，验证正确性
  - 建立，绑定和关闭Socket
  - 平缓启动/平缓升级
  - 开启日志文件，获取文件描述符
  - 编译处理Perl脚本
- 工作进程
  - 接受客户端请求
  - 将请求依次送入各个功能模块过滤处理
  - IO调用，获取响应数据
  - 与后端服务器通信，接受后端服务器处理结果
  - 数据缓冲,访问缓存索引，查询和调用缓存数据
  - 发送请求结果，响应客户端请求
  - 接受主程序指令，比如重启、升级和退出
- 后端服务器
- 缓存（缓存索引重建，缓存索引管理）
  > 将历史应答数据缓存到本地，服务器每次启动一段时间，会启动专门的进程对本地缓存重建索引，保证对缓存的快速访问

  - 缓存索引重建：根据本地磁盘上的缓存文件在内存中建立/更新索引元数据库。
  - 缓存索引管理：索引元数据更新完成后，对元数据是否过期做出判断
